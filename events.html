---
layout: default
title: Events
---

{% assign events = site.data.events | concat: site.data.startups | sort: "date" | reverse %}
{% assign oevents = events | sort: "date"  %}
{% assign today = 'now' | date: "%Y-%m-%d" %}
{% assign upcoming = false %}
{% assign past = false %}
{% for event in events %}
  {% if event.date >= today %}
    {% assign upcoming = true %}
  {% else %}
    {% assign past = true %}
  {% endif %}
{% endfor %}

<style>
.who {
  font-weight: normal;
  color: gray;
}
</style>

<div class="container my-5">
  <div class="event-filter mb-6">
    <button class="event-filter-btn active" data-filter="all">All</button>
    <button class="event-filter-btn" data-filter="entrepreneurship">Entrepreneurship</button>
    <button class="event-filter-btn" data-filter="seminar">Seminar</button>
    <button class="event-filter-btn" data-filter="course">Course</button>
    <button class="event-filter-btn" data-filter="workshop">Workshop</button>
    <button class="event-filter-btn" data-filter="other">Other</button>
  </div>
  {% if upcoming %}
    <h2 style="color:gray">Upcoming Events</h2>
    <div class="mb-5">
      {% for event in oevents %}
        {% if event.date >= today and event.who != "ðŸ¤”" %}
          {% capture event_id %}{{ event.date | date: '%y%m%d' }}-{{ event.title | slugify }}{% endcapture %}
          <div class="mb-4 event-item event-{{ event.tag | downcase | default: 'other' }}" id="{{ event_id }}">
            <div class="event-flex">
              <div class="event-main">
                <h4 class="event-title">
                {% if event.link %}
                  <a href="{{ event.link }}">{{ event.title }}</a>
                {% else %}
                  {{ event.title }}
                {% endif %}
                {% if event.who %} 
                  {% if event.wholink %}
                    <a href="{{ event.wholink }}" class="me-2"><span class="who">{{ event.who }}</span> </a>
                  {% else %}
                    <span class="who">{{ event.who }}</span>
                  {% endif %}
                {% endif %}
                {% if event.tag %}
                  <span class="event-tag event-tag--{{ event.tag | downcase }}">
                    {{ event.tag }}
                  </span>
                {% endif %}
                </h4>
                <p class="text-muted">
                  <span>{{ event.time }}  {{ event.date | date: "%B %d, %Y" }}</span>
                  <span style="margin-left: 2em">{{ event.where }}</span>
                  <a class="event-link-anchor" href="{{ page.url | relative_url }}#{{ event_id }}" aria-label="Link to this event" title="Link to this event">ðŸ”—</a>
                </p>
                {% if event.description | strip != "tba" %}
                <div class="markdown-content">
                  {{ event.description | markdownify }}
                  </div>
                {% endif %}
                {% if event.bio %} <p>{{ event.bio | markdownify }}</p> {% endif %}
                <div class="mt-4">
                  {% if event.video %}
                  <a href="{{ event.video }}" class="btn btn-primary rounded-pill px-3 py-1" style="text-decoration: none; font-weight: 500;">
                    <i class="fas fa-play-circle me-2">Video Recording</i>
                  </a>
                  {% endif %}
                  {% if event.slides %}
                  <a href="{{ event.slides }}" class="btn btn-primary rounded-pill px-3 py-1" style="text-decoration: none; font-weight: 500;">
                    <i class="fas fa-file-alt me-2">Slides</i>
                  </a>
                  {% endif %}
                </div>
              </div>
              {% if event.image %}
                {% assign img = event.image %}
                {% if img contains '://' %}
                  {% assign img_url = img %}
                {% else %}
                  {% assign img_url = img | relative_url %}
                {% endif %}
                <div class="event-media">
                  <img src="{{ img_url }}" alt="{{ event.title | escape }}" loading="lazy">
                </div>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  {% if past %}
    <h2 style="color:gray">Past Events</h2>
    <div>
      {% for event in events %}
        {% if event.date < today and event.who != "ðŸ¤”" %}
          {% capture event_id %}{{ event.date | date: '%y%m%d' }}-{{ event.title | slugify }}{% endcapture %}
          <div class="mb-4 event-item event-{{ event.tag | downcase | default: 'other' }}" id="{{ event_id }}">
            <div class="event-flex">
              <div class="event-main">
                <h4 class="event-title">
                {% if event.link %}
                  <a href="{{ event.link }}">{{ event.title }}</a>
                {% else %}
                  {{ event.title }}
                {% endif %}
                {% if event.who %}
                  {% if event.wholink %}
                    <a href="{{ event.wholink }}" class="me-2"><span class="who">{{ event.who }}</span> </a>
                  {% else %}
                    <span class="who">{{ event.who }}</span>
                  {% endif %}
                {% endif %}
                {% if event.tag %}
                  <span class="event-tag event-tag--{{ event.tag | downcase }}">
                    {{ event.tag }}
                  </span>
                {% endif %}
                </h4>
                <p class="text-muted">
                  <span>{{ event.time }}  {{ event.date | date: "%B %d, %Y" }}</span>
                  <span style="margin-left: 2em">{{ event.where }}</span>
                  <a class="event-link-anchor" href="{{ page.url | relative_url }}#{{ event_id }}" aria-label="Link to this event" title="Link to this event">ðŸ”—</a>
                </p>
                {% if event.description | strip != "tba" or event.bio %}
                <div class="event-body clamped">
                  {% if event.description | strip != "tba" %}
                  <div class="markdown-content">
                    {{ event.description | markdownify }}
                  </div>
                  {% endif %}
                  {% if event.bio %}
                  <p>{{ event.bio | markdownify }}</p>
                  {% endif %}
                </div>
                <button class="expand-btn">See more</button>
                {% endif %}

                <div class="mt-4">
                  {% if event.video %}
                  <a href="{{ event.video }}" class="btn btn-primary rounded-pill px-3 py-1" style="text-decoration: none; font-weight: 500;">
                    <i class="fas fa-play-circle me-2">Video Recording</i>
                  </a>
                  {% endif %}
                  {% if event.slides %}
                  <a href="{{ event.slides }}" class="btn btn-primary rounded-pill px-3 py-1" style="text-decoration: none; font-weight: 500;">
                    <i class="fas fa-file-alt me-2">Slides</i>
                  </a>
                  {% endif %}
                </div>
              </div>
              {% if event.image %}
                {% assign img = event.image %}
                {% if img contains '://' %}
                  {% assign img_url = img %}
                {% else %}
                  {% assign img_url = img | relative_url %}
                {% endif %}
                <div class="event-media">
                  <img src="{{ img_url }}" alt="{{ event.title | escape }}" loading="lazy">
                </div>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}
</div>

<style>
.markdown-content p {
  margin-bottom: 0.5em;
}
.markdown-content strong {
  font-weight: bold;
}
.markdown-content em {
  font-style: italic;
}

/* Event Filter Buttons */
.event-filter {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}
.event-filter-btn {
  background-color: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 9999px;
  padding: 0.4rem 1rem;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}
.event-filter-btn:hover {
  background-color: #e5e7eb;
}
.event-filter-btn.active {
  background-color: #2563eb;
  color: white;
  border-color: #2563eb;
}

/* Event layout with optional right-side image */
.event-flex {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}
.event-main {
  flex: 1 1 0;
  min-width: 0;
}
.event-title { display: flex; align-items: center; gap: 0.4rem; }
.event-link-anchor {
  opacity: 0.4;
  text-decoration: none;
  font-size: 0.85rem;
}
.event-link-anchor:hover { opacity: 1; text-decoration: none; }
.event-item:hover .event-link-anchor { opacity: 1; }
.event-media {
  flex: 0 0 clamp(160px, 33%, 280px); /* up to ~4/12 width */
  display: flex;
  align-items: center;
  justify-content: center;
}
.event-media img {
  max-width: 100%;
  max-height: 240px;
  width: auto;
  height: auto;
  object-fit: contain; /* show entire image without cropping */
  border-radius: 0.5rem;
}
@media (max-width: 768px) {
  .event-flex { flex-direction: column; }
  .event-media { flex-basis: auto; order: -1; }
  .event-media img { max-height: none; width: 100%; height: auto; }
}

.event-body.clamped {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
}
.expand-btn {
  background: transparent;
  border: none;
  color: #2563eb;
  cursor: pointer;
  padding: 0;
  margin-top: 0.25rem;
  font-weight: 500;
}
.expand-btn:focus { outline: none; }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Event category filtering
  const buttons = document.querySelectorAll(".event-filter-btn");
  const items = document.querySelectorAll(".event-item");

  buttons.forEach(button => {
    button.addEventListener("click", () => {
      // update active button styling
      buttons.forEach(btn => btn.classList.remove("active"));
      button.classList.add("active");

      const filter = button.getAttribute("data-filter");

      items.forEach(item => {
        if (filter === "all" || item.classList.contains("event-" + filter)) {
          item.style.display = "";
        } else {
          item.style.display = "none";
        }
      });
    });
  });

  // Expand/collapse for past events
  const expandBtns = document.querySelectorAll('.expand-btn');

  // Hide expand button when the body doesn't overflow the clamped area
  function updateExpandButtonVisibility(btn) {
    const body = btn.previousElementSibling;
    if (!body) return;
    // If full content height fits within the (clamped) container, hide the button
    if (body.scrollHeight <= body.clientHeight + 1) {
      btn.style.display = 'none';
    } else {
      btn.style.display = '';
    }
  }

  expandBtns.forEach(btn => {
    // initial visibility check
    updateExpandButtonVisibility(btn);

    btn.addEventListener('click', () => {
      const body = btn.previousElementSibling;
      if (!body) return;
      body.classList.toggle('clamped');
      btn.textContent = body.classList.contains('clamped') ? 'See more' : 'See less';
    });
  });

  // Re-check on resize (in case layout/line-wrap changes)
  window.addEventListener('resize', () => {
    expandBtns.forEach(updateExpandButtonVisibility);
  });
});
</script>
