---
layout: page
color: '#0c6a99'
logo: Blog
urlprefix: .
---
<style>
.peach { background: #FBE5D6; }
.blue { background: #B4C7E7; }

ul li {
  margin-bottom: 1em;         /* Nice spacing between items */
  padding-left: 0px;            /* Ensure no left padding */
}

ul li a:hover {
  color: white;
  background: #012169;
  background: #009EFF;
}


ul {
  list-style: none;           /* Remove bullets */
  padding-left: 0;            /* Remove left margin/padding */
  margin-left: 0;             /* Remove left margin */
}

.date-pill {
  display: inline-block;
  color: #009eff;
  border-radius: 100px;      /* Fully rounded pill shape */
  font-size: 0.85em;
  font-weight: 600;
  margin-right: 0.75em;       /* Space between pill and title */
}

ul li a {
  text-decoration: underline;
  color: inherit;
}

ul li a:hover {
  color: white;
  background: #012169;
  padding: 0.25em 0.5em;
  border-radius: 4px;
}

</style>


<div class="container-fluid">
  <div class="row">
    <div class="col-lg-3 col-md-4 d-none d-md-block">
      <h1>DAPLab Blog</h1>
      {% include blog-sidebar.html %}
    </div>

    <div class="col-lg-9 col-md-8 blog-main" style="padding-left:2rem">

      <!--
      Important fix after 0cb51cb
      Mobile: show simple list (non-AJAX) so users can navigate on small screens
      -->
      <div class="d-block d-md-none mb-3">
        {% include blog-sidebar.html link_class="" container_class="" %}
      </div>

      <style>
      /* Blog-specific styles */
      .blog-main .card:hover {
        transform: none !important;
        transition: none !important;
      }

      .blog-card { border: none; }
      .blog-main .card-content img,
      .blog-main .latest-post img,
      .blog-main .card-body img,
      .blog-main .post-body img,
      .blog-main .card-content picture,
      .blog-main .card-content figure img {
        max-width: 100% !important;
        height: auto !important;
        display: block !important;
      }
      .blog-main img.larger-image,
      .blog-main img.hero-image {
        max-width: 100% !important;
        height: auto !important;
      }
      .full-post-link {
        position: absolute;
        right: 1rem;
        top: 0.6rem;
        z-index: 2;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.25rem 0.5rem;
        font-size: 1rem;
        border-radius: 0.35rem;
        color: #012169; /* dark blue text by default */
        border: 1px solid rgba(1,33,105,0.18);
        background: rgba(255,255,255,0.78); /* light glass so title under it remains readable */
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
      }
      .blog-card { position: relative; }
      .full-post-link:hover { background: rgba(1,33,105,0.12); color: #ffffff; text-decoration:none; }
      .full-post-link.btn { color: #012169; background: rgba(255,255,255,0.78); border-color: rgba(1,33,105,0.18); }

      @keyframes blogFadeIn {
        from { opacity: 0; transform: translateY(6px); }
        to   { opacity: 1; transform: translateY(0); }
      }
      .fade-in {
        animation: blogFadeIn 1s ease both;
      }
      </style>

      <div class="latest-post mt-4">
        <!-- Determine the latest post URL for JS-based loading. -->
        {% assign latest_post = nil %}
        {% for post in site.posts %}
          {% if post.layout == "post" and post.published != false %}
            {% assign latest_post = post %}
            {% break %}
          {% endif %}
        {% endfor %}
        <script>window.__latestPostForBlog = "{{ latest_post.url | relative_url }}";</script>
      </div>
    </div>
  </div>
</div>

<script>
;(function(){
  // Load a post into the latest-post container without navigating away.
  function loadPost(url, push){
    var container = document.querySelector('.latest-post');
    if(!container) return;
    container.innerHTML = '<div class="p-3">Loadingâ€¦</div>';
    fetch(url).then(function(r){ return r.text(); }).then(function(html){
      try{
        var parser = new DOMParser();
        var doc = parser.parseFromString(html, 'text/html');
        var meta = doc.querySelector('.post-meta');
        var body = doc.querySelector('.post-body');
        if(!body){ container.innerHTML = '<p>Unable to load post.</p>'; return; }

        var article = document.createElement('article');
        article.className = 'blog-card card';
        // Full-post link
        var fullpostlink = doc.createElement('a');
        fullpostlink.className = 'card-link full-post-link btn btn-sm btn-outline-primary';
        fullpostlink.href = url;
        fullpostlink.innerHTML = '<small>Open full post</small>';
        article.appendChild(fullpostlink);
        // Main content
        var inner = document.createElement('div');
        inner.className = 'card-body';
        inner.innerHTML = (meta? meta.outerHTML : '') + body.innerHTML;
        article.appendChild(inner);
        container.innerHTML = '';
        container.appendChild(article);
        // Fade-in animation when rendering
        try{
          article.classList.add('fade-in');
          article.addEventListener('animationend', function(){ article.classList.remove('fade-in'); });
        }catch(e){}

        if(push) history.pushState({ post: url }, '', url);
      }catch(e){ console.error(e); container.innerHTML = '<p>Error loading post.</p>'; }
    }).catch(function(){ container.innerHTML = '<p>Error fetching post.</p>'; });
  }

  // Attach click handlers to sidebar links
  function init(){
    var links = document.querySelectorAll('.blog-sidebar a.blog-nav-link');
    links.forEach(function(a){
      a.addEventListener('click', function(e){
        e.preventDefault();
        var url = a.getAttribute('href');
        if(url) loadPost(url, true);
      });
    });

    // If a latest post URL is provided by Liquid, load it via JS for consistent rendering
    try{
      var latestUrl = window.__latestPostForBlog;
      if(latestUrl){
        var container = document.querySelector('.latest-post');
        if(container){ setTimeout(function(){ loadPost(latestUrl, false); }, 50); }
      }
    }catch(e){/* ignore */}
  }

  window.addEventListener('DOMContentLoaded', init);

  window.addEventListener('popstate', function(e){
    if(e.state && e.state.post){ loadPost(e.state.post, false); }
  });
})();
</script>
